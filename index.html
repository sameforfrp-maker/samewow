<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>دفترچه یادداشت حرفه‌ای</title>
<style>
  body{margin:0;font-family:sans-serif;background:#0f1724;color:#e6eef8;display:flex;flex-direction:column;align-items:center;padding:20px}
  h1{text-align:center;color:#ff6b6b;margin-bottom:20px}
  #noteList{width:90%;max-width:700px;display:flex;flex-direction:column;gap:10px;}
  .noteItem{background:#1e293b;padding:10px;border-radius:12px;position:relative;box-shadow:0 6px 18px rgba(0,0,0,0.3);}
  .noteItem textarea{width:100%;height:80px;border:none;background:transparent;color:#f1f5f9;resize:none;font-size:16px}
  .noteControls{position:absolute;top:8px;right:8px;display:flex;gap:6px}
  .noteControls button{padding:4px 8px;border-radius:8px;border:none;cursor:pointer;font-weight:600;color:#07101a;background:linear-gradient(90deg,#ff3b3b,#ff6b6b);font-size:12px}
  #addNote{margin-top:20px;padding:8px 16px;border-radius:10px;border:none;cursor:pointer;font-weight:600;color:#07101a;background:linear-gradient(90deg,#ff3b3b,#ff6b6b)}
  #searchBar{width:90%;max-width:700px;padding:8px;border-radius:10px;border:none;margin-bottom:12px;font-size:16px;background:#1e293b;color:#f1f5f9;}
</style>
</head>
<body>
<h1>دفترچه یادداشت حرفه‌ای</h1>
<input type="text" id="searchBar" placeholder="جستجو در یادداشت‌ها...">
<div id="noteList"></div>
<button id="addNote">افزودن یادداشت جدید</button>
<script>
const noteList = document.getElementById('noteList');
const addNoteBtn = document.getElementById('addNote');
const searchBar = document.getElementById('searchBar');

let notes = JSON.parse(localStorage.getItem('proNotes')) || [];

function saveNotes(){
  localStorage.setItem('proNotes', JSON.stringify(notes));
}

function renderNotes(filter=''){ noteList.innerHTML='';
  notes.forEach((note,index)=>{
    if(note.text.toLowerCase().includes(filter.toLowerCase())){
      const div = document.createElement('div'); div.className='noteItem';
      const ta = document.createElement('textarea'); ta.value=note.text;
      ta.addEventListener('input', e=>{ notes[index].text=e.target.value; saveNotes(); });
      const controls = document.createElement('div'); controls.className='noteControls';
      const delBtn = document.createElement('button'); delBtn.innerText='پاک کردن';
      delBtn.onclick=()=>{ if(confirm('میخوای این یادداشت پاک بشه؟')){ notes.splice(index,1); saveNotes(); renderNotes(searchBar.value); }}
      controls.appendChild(delBtn); div.appendChild(ta); div.appendChild(controls); noteList.appendChild(div);
    }
  });
}

addNoteBtn.addEventListener('click',()=>{
  notes.push({text:'',timestamp:Date.now()}); saveNotes(); renderNotes(searchBar.value);
});

searchBar.addEventListener('input',()=>{ renderNotes(searchBar.value); });

renderNotes();
</script>
</body>
</html>
