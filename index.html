<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Graphic Snake Game</title>
<style>
  body { margin:0; display:flex; justify-content:center; align-items:center; height:100vh; background:#111; font-family:sans-serif; }
  canvas { background:#222; border-radius:16px; display:block; border:4px solid #ff3b3b; }
  h1 { position:absolute; top:20px; width:100%; text-align:center; color:#ff6b6b; font-size:24px; }
</style>
</head>
<body>
<h1>Score: <span id="score">0</span></h1>
<canvas id="game" width="500" height="500"></canvas>
<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const scoreEl = document.getElementById('score');
const grid = 20;
let snake = [{x:240,y:240}];
let dx = grid, dy = 0;
let food = spawnFood();
let score = 0;
let speed = 150;

function spawnFood(){
  const x = Math.floor(Math.random()*25)*grid;
  const y = Math.floor(Math.random()*25)*grid;
  return {x,y};
}

function gameLoop(){
  moveSnake();
  if(checkCollision()) return gameOver();
  if(eatFood()){
    score++; scoreEl.innerText=score;
    food = spawnFood();
    if(speed>50) speed-=3;
  } else snake.pop();
  draw();
  setTimeout(gameLoop, speed);
}

function moveSnake(){
  const head = {x: snake[0].x + dx, y: snake[0].y + dy};
  snake.unshift(head);
}

function checkCollision(){
  const head = snake[0];
  if(head.x<0||head.x>=canvas.width||head.y<0||head.y>=canvas.height) return true;
  for(let i=1;i<snake.length;i++) if(head.x===snake[i].x && head.y===snake[i].y) return true;
  return false;
}

function eatFood(){
  const head = snake[0];
  return head.x===food.x && head.y===food.y;
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  // draw food
  ctx.fillStyle='#ff3b3b';
  ctx.beginPath();
  ctx.arc(food.x+grid/2,food.y+grid/2,grid/2,0,Math.PI*2);
  ctx.fill();
  // draw snake
  for(let i=0;i<snake.length;i++){
    ctx.fillStyle = i===0 ? '#ffb347' : '#ff6b6b';
    ctx.beginPath();
    ctx.arc(snake[i].x+grid/2,snake[i].y+grid/2,grid/2-1,0,Math.PI*2);
    ctx.fill();
  }
}

function gameOver(){
  alert('Game Over! Your score: '+score);
  snake = [{x:240,y:240}]; dx=grid; dy=0; score=0; speed=150; food=spawnFood(); scoreEl.innerText=score;
}

document.addEventListener('keydown', e=>{
  if(e.key==='ArrowUp' && dy===0){dx=0;dy=-grid;}
  if(e.key==='ArrowDown' && dy===0){dx=0;dy=grid;}
  if(e.key==='ArrowLeft' && dx===0){dx=-grid;dy=0;}
  if(e.key==='ArrowRight' && dx===0){dx=grid;dy=0;}
});

gameLoop();
</script>
</body>
</html>
