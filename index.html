<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Classic Snake Game</title>
<style>
  body { margin:0; display:flex; justify-content:center; align-items:center; height:100vh; background:#111; color:#fff; font-family:sans-serif; }
  canvas { background:#222; display:block; border:4px solid #ff3b3b; border-radius:12px; }
  h1 { position:absolute; top:20px; text-align:center; width:100%; font-size:24px; color:#ff6b6b; }
</style>
</head>
<body>
<h1>Score: <span id="score">0</span></h1>
<canvas id="game" width="400" height="400"></canvas>
<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const scoreEl = document.getElementById('score');

const grid = 20;
let snake = [{x:200,y:200}];
let dx = grid;
let dy = 0;
let food = spawnFood();
let score = 0;
let speed = 200;

function spawnFood(){
  const x = Math.floor(Math.random()*20)*grid;
  const y = Math.floor(Math.random()*20)*grid;
  return {x,y};
}

function gameLoop(){
  moveSnake();
  if(checkCollision()) return gameOver();
  if(eatFood()){
    score += 1;
    scoreEl.innerText = score;
    food = spawnFood();
    if(speed > 60) speed -= 5;
  } else {
    snake.pop();
  }
  draw();
  setTimeout(gameLoop, speed);
}

function moveSnake(){
  const head = {x: snake[0].x + dx, y: snake[0].y + dy};
  snake.unshift(head);
}

function checkCollision(){
  const head = snake[0];
  // walls
  if(head.x<0||head.x>=canvas.width||head.y<0||head.y>=canvas.height) return true;
  // self collision
  for(let i=1;i<snake.length;i++){
    if(head.x===snake[i].x && head.y===snake[i].y) return true;
  }
  return false;
}

function eatFood(){
  const head = snake[0];
  return head.x===food.x && head.y===food.y;
}

function draw(){
  ctx.fillStyle="#222"; ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="#ff3b3b";
  for(let seg of snake){
    ctx.fillRect(seg.x,seg.y,grid-1,grid-1);
  }
  ctx.fillStyle="#ffb3b3";
  ctx.fillRect(food.x,food.y,grid-1,grid-1);
}

function gameOver(){
  alert('Game Over! Your score: '+score);
  snake = [{x:200,y:200}];
  dx = grid; dy=0;
  score=0;
  speed=200;
  food = spawnFood();
  scoreEl.innerText = score;
}

document.addEventListener('keydown', e=>{
  if(e.key==='ArrowUp' && dy===0){dx=0;dy=-grid;}
  if(e.key==='ArrowDown' && dy===0){dx=0;dy=grid;}
  if(e.key==='ArrowLeft' && dx===0){dx=-grid;dy=0;}
  if(e.key==='ArrowRight' && dx===0){dx=grid;dy=0;}
});

gameLoop();
</script>
</body>
</html>
